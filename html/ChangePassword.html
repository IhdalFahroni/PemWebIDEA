<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Change Password | LombokRec</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Jaldi&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <style>
        body {
            background: url('https://raw.githubusercontent.com/IhdalFahroni/PemWebIDEA/main/Assets/LandingPagePic1.jpg') no-repeat center center/cover;
            font-family: 'Jaldi', sans-serif;
        }
    </style>
</head>
<body class="min-h-screen flex justify-center items-center">

    <div class="absolute inset-0 w-full h-full backdrop-blur-sm flex justify-center items-center">
        <div class="bg-[#FFFFFF] p-8 rounded-[15px] shadow-lg text-center w-[400px] relative z-10">
            
            <h2 class="text-[22px] font-bold text-[#8D6E63] mb-5">Change Password</h2>

            <input 
                type="text" 
                id="newPassword" 
                class="w-full p-2.5 my-2.5 border border-[#D7D5BA] rounded-md bg-lombok-bg text-sm placeholder:text-[#8D6E63] pr-10" 
                placeholder="New Password"
                style="background-color: #FFFFFF; color: #8D6E63; border-color: #D7D5BA;"
                onfocus="this.style.outlineColor='#D7D5BA';">
            <p id="passwordError" class="text-red-600 text-xs text-left mt-1 mb-4 hidden">Password must be 8-20 characters</p>

            <div class="relative w-full"> 
                <input 
                    type="password"
                    id="confirmPassword" 
                    class="w-full p-2.5 my-2.5 border border-[#D7D5BA] rounded-md bg-lombok-bg text-sm placeholder:text-[#8D6E63] pr-10" 
                    placeholder="Confirm New Password" required
                    style="background-color: #FFFFFF; color: #8D6E63; border-color: #D7D5BA;"
                    onfocus="this.style.outlineColor='#D7D5BA';"> 
                    <div class="absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5">
                    <i class="fas fa-eye-slash text-[#8D6E63] hover:text-gray-700 cursor-pointer" id="togglePasswordIcon"></i>
                    </div>
            </div>
            <p id="passwordDontMatch" class="text-red-600 text-xs text-left mt-1 mb-4 hidden">New password and confirm password do not match</p>
            
            <a 
                href="LoginPage.html" 
                class="block w-full py-3 mt-4 mb-2.5 bg-[#8D6E63] text-white font-bold rounded-full cursor-pointer text-base hover:bg-[#a89e8c] no-underline"
                onclick="return handleChange()">
                Change
            </a>

        </div>
    </div>

    <script>
        const newPass = document.getElementById('newPassword');
        const confirmNewPass = document.getElementById('confirmPassword');
        const togglePasswordIcon = document.getElementById('togglePasswordIcon');
        const passwordError = document.getElementById('passwordError');
        const passwordDontMatch = document.getElementById('passwordDontMatch');

        if (togglePasswordIcon) {
            togglePasswordIcon.addEventListener('click', function () {
                const type = confirmNewPass.getAttribute('type') === 'password' ? 'text' : 'password';
                confirmNewPass.setAttribute('type', type);
                this.classList.toggle('fa-eye-slash');
                this.classList.toggle('fa-eye');
            });
        }

        newPass.addEventListener('input', function() {
            const password = newPass.value;
            if (password.length < 8 || password.length > 20) {
                passwordError.classList.remove('hidden'); 
            } else {
                passwordError.classList.add('hidden'); 
            }
        });

        function handleChange() {
            const password = newPass.value;
            const newPassword = confirmNewPass.value;

            let isValid = true;

            if (password.length < 8 || password.length > 20) {
                passwordError.classList.remove('hidden');
                isValid = false;
            } else {
                passwordError.classList.add('hidden');
            }

            if(password !== newPassword) {
                passwordDontMatch.classList.remove('hidden');
                isValid = false;
            }else {
                passwordDontMatch.classList.add('hidden');
            }

            if (isValid) {
                console.log("Sign Up button clicked!");
                console.log("Password:", password);
            }

            return isValid; 
        }
    </script> 
</body>
</html>